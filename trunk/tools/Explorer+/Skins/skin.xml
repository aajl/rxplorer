<?xml version="1.0" encoding="utf-8"?>
<directui>
	<script type="javascript" src="skin.js" />

	<include>res.xml</include>
	
	<accels id="accel" handler="on_accel">
		<accel vkey="" key="F4" action="edit_file()" />
		<accel vkey="" key="F6" action="copy_file()" />
		<accel vkey="" key="F7" action="move_file()" />
		<accel vkey="" key="F8" action="new_folder()" />
		<accel vkey="Ctrl" key="E" action="open_curr_folder()" />
		<accel vkey="Ctrl" key="T" action="new_tab_view(get_curr_xplorer())" />
	</accels>
	
	<panel id="explorer" title="Explorer++" type="app" bkclr="#E5E5E5" drag="true">
		<size x="0" y="0" width="880" height="660" resize="true" min-width="880" min-height="660" />
		<events maximize="print('max');setting.explorer.max=true;max.check(true)" restore="setting.explorer.max=false;max.check(false)" close="on_close()" drop="on_dropfiles" />
		<border width="1" color="#404040" />
		<hittest>
			<rect x="495" y="0" width="275" height="23" float="width" />
		</hittest>

		<label x="495" y="0" width="275" height="23" float="width" clickable="true">
			<events dbclk="explorer.max()" />
		</label>

		<label id="title" text="Explorer++" x="9" y="0" width="96" height="23" color="#ffffff" font="fonts.bold_10">
			<attribs bkimg="imgs.main_hover" offset="9" align="center,vcenter" />
			<bkimg x="x" y="y" width="width" height="height" />
		</label>

		<!--系统按钮-->
		<layer id="sys_btn" x="770" y="2" width="103" height="18" float="right" margin="0,0">
			<button id="min" action="window.min();" width="28">
				<states normal="imgs.main_hover" x="770" width="width" height="height">
					<normal y="2" />
					<hover y="23" />
				</states>
			</button>

			<button id="max" action="explorer.max()" width="27" checkable="true">
				<states normal="imgs.main_hover" x="798" width="width" height="height">
					<normal y="2" />
					<hover y="23" />
				</states>
				<states normal="imgs.main_hover" y="44" width="width" height="height">
					<normal x="771" />
					<hover x="798" />
				</states>
			</button>

			<button id="close" action="window.close()" width="48">
				<states normal="imgs.main_hover" x="825" width="width" height="height">
					<normal y="2" />
					<hover y="23" />
				</states>
			</button>
		</layer> <!--系统按钮-->
		
		<!--主菜单按钮-->
		<custom id="main_menu_btns" type="tiled" x="110" y="2" width="385" height="20" col="7" margin="0,2" bkclr="#E5E5E5">
			<items width="53" height="20">
				<item id="menu_file_btn" text="文件(F)" action="move_main_menu()" popup="main_menu.menu_file" />
				<item id="menu_edit_btn" text="编辑(E)" action="move_main_menu()" popup="main_menu.menu_edit" />
				<item id="menu_bookmark_btn" text="书签(B)" action="move_main_menu()" popup="main_menu.menu_bookmark" />
				<item id="menu_plugin_btn" text="插件(P)" action="move_main_menu()" popup="main_menu.menu_plugin" />
				<item id="menu_tools_btn" text="工具(T)" action="move_main_menu()" popup="main_menu.menu_tools" />
				<item id="menu_windows_btn" text="窗口(W)" action="move_main_menu()" popup="main_menu.menu_windows" />
				<item id="menu_help_btn" text="帮助(H)" action="move_main_menu()" popup="main_menu.menu_help" />
			</items>
			<button x="0" y="0" width="53" height="20" align="center,vcenter,singleline">
				<attribs id="item.id" text="item.text" action="item.action" popup="item.popup" group="main_menu" />
				<states>
					<normal border="0" bkclr="#E5E5E5" />
					<hover border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#8A867A" bkclr="#E5E5E5" />
				</states>
			</button>
		</custom>

		<!--常用工具栏-->
		<custom id="toolbar" x="1" y="24" width="142" height="29" col="4" type="tiled" margin="0,1,0,7" bkclr="#E5E5E5" bkimg="dragable.png">
			<bkimg dx="2" dy="3" />
			<items width="29" height="29">
				<item icon="icons.folder" action="new_tab_view(get_curr_xplorer())" />
				<item img="folder.png" action="show_treeview(!treeview.visible())" />
				<item icon="icons.newfolder" action="" />
				<item img="thumb.png" action="" cond="1" />
			</items>
			<if condition="item.cond">
				<layer width="40" height="29">
					<button width="29" height="29" action="item.action" adapt="false">
						<states normal="item.img" width="24" height="24">
							<normal icon="item.icon" dx="3" dy="3" ix="3" iy="3" size="24" border="0" bkclr="#E5E5E5" />
							<hover dx="2" dy="2" ix="2" iy="2" border="1" color="#316AC5" bkclr="#C1D2EE" />
							<down dx="3" dy="3" ix="3" iy="3" border="1" color="#316AC5" bkclr="#C1D2EE" />
						</states>
					</button>
					<button width="11" height="29" action="" adapt="false">
						<states normal="dropdown.png" width="7" height="24">
							<normal dx="2" dy="13" border="0" bkclr="#E5E5E5" />
							<hover dx="2" dy="12" border="1" color="#316AC5" bkclr="#C1D2EE" />
							<down dx="2" dy="13" border="1" color="#316AC5" bkclr="#C1D2EE" />
						</states>
					</button>
				</layer>
			<else />
				<button width="29" height="29" action="item.action" adapt="false">
					<states normal="item.img" width="24" height="24">
						<normal icon="item.icon" dx="3" dy="3" ix="3" iy="3" size="24" border="0" bkclr="#E5E5E5" />
						<hover dx="2" dy="2" ix="2" iy="2" border="1" color="#316AC5" bkclr="#C1D2EE" />
						<down dx="3" dy="3" ix="3" iy="3" border="1" color="#316AC5" bkclr="#C1D2EE" />
					</states>
				</button>
			</if>
		</custom>
		
		<!--收藏工具栏-->
		<custom id="favtools" x="143" y="24" width="734" height="29" col="50" type="tiled" margin="0,1,0,7" float="width">
			<attribs bkclr="#E5E5E5" bkimg="dragable.png" oninit="load_favorite_tools()" />
			<bkimg dx="2" dy="3" />
			<events dbclk="print('db clk\n')" rbtn="print('rbutton\n')" />
			<items width="29" height="29">
			</items>
			<button id="item.id" width="29" height="29" path="item.path" param="item.param" action="open_tool(this.path, this.param)">
				<events rbtn="pop_tool_menu(this)" />
				<states width="24" height="24">
					<normal icon="item.icon" ix="3" iy="3" size="24" border="0" bkclr="#E5E5E5" />
					<hover ix="2" iy="2" border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down ix="3" iy="3" border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>
		</custom>

		<!--磁盘栏-->
		<custom id="drivebar" x="1" y="54" width="200" height="29" col="26" type="tiled" margin="0,1,0,7">
			<attribs bkclr="#E5E5E5" oninit="" />
			<bkimg src="dragable.png" dx="2" dy="3" />
			<items width="29" height="29">
				<!--item text="C" pos="4" icon="drive.ico" down="progress_hover.png" /-->
			</items>
			<layer id="item.id" width="29" height="29" path="item.path" action="open_folder(this.path)">
				<states width="16" height="16" ix="6" iy="2">
					<normal icon="item.icon" bkclr="#E5E5E5" />
					<hover ix="5" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
				<label position="relative" x="1" y="16" width="8" height="12" text="item.text" font="fonts.arial_8" />
				<progress position="relative" x="9" y="19" width="18" height="8" range="0,10" pos="item.pos" enable="false">
					<states normal="progress.png" down="item.down" width="18" height="10">
					</states>
				</progress>
			</layer>
		</custom>
		
		<!--地址栏-->
		<layer id="addrbar" x="300" y="56" width="333" height="25" bkclr="#FFFFFF" float="width">
			<border width="1" color="#316AC5" />

			<!--Undo/Redo-->
			<custom x="201" y="56" width="59" height="26" col="4" type="tiled" margin="0,1,0,7" bkclr="#E5E5E5">
				<bkimg src="dragable.png" dx="2" dy="3" />
				<items width="26" height="26">
					<item img="undo.png" action="addr.path='D:\Download\TeamPlayer'" />
					<item img="redo.png" action="addr.path='D:\Download'" />
				</items>
				<button width="26" height="26" action="item.action">
					<states normal="item.img" width="width" height="width">
						<normal x="0" />
						<hover x="26" />
						<down x="52" />
						<disable x="78" />
					</states>
				</button>
			</custom>

			<!--历史记录按钮-->
			<button x="257" y="58" width="17" height="23" action="" popup="recent_pane">
				<popup position="auto" />
				<states normal="recent.png" width="17" height="23">
					<normal x="0" />
					<hover x="17" />
					<down x="34" />
					<disable x="51" />
				</states>
			</button>

			<!--向上按钮-->
			<button x="275" y="58" width="24" height="22" action="up()">
				<states normal="up.png" width="24" height="22">
					<normal x="0" bkclr="#E5E5E5" />
					<hover x="24" />
					<down x="48" />
				</states>
			</button>

			<!--图标按钮-->
			<button id=".sysfolder" position="relative" x="3" y="2" width="21" height="21" popup="common_folders_pane">
				<popup position="auto" />
				<states width="16" height="16">
					<normal icon="icons.computer" border="0" bkclr="#FFFFFF" />
					<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>

			<!--多功能箭头-->
			<button id=".sysfolder2" position="relative" x="26" y="2" width="9" height="21" adapt="false" popup="common_folders_pane">
				<popup position="auto" />
				<states normal="triangle.png" dx="3" dy="9">
					<normal border="0" bkclr="#FFFFFF" />
					<hover border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>

			<!--地址栏按钮-->
			<addr id="addr" path="D:\Download\Music" position="relative" x="36" y="1" width="260" height="23" bkclr="#FFFFFF" float="width">
				<states width="0" height="0">
					<normal border="0" bkclr="#FFFFFF" />
					<hover border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
				<states normal="triangle.png" dx="3" dy="9">
					<normal border="0" bkclr="#FFFFFF" />
					<hover border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
				<states width="0" height="0">
					<normal border="0" bkclr="#C0C0C0" />
					<hover border="1" color="#316AC5" bkclr="#C0C0C0" />
				</states>
				<states normal="triangle.png" dx="3" dy="9">
					<normal border="0" bkclr="#C0C0C0" />
					<hover border="1" color="#316AC5" bkclr="#C0C0C0" />
				</states>
			</addr>
			
			<!--收藏夹按钮-->
			<button position="relative" x="-36" y="2" width="12" height="21" adapt="false" popup="favfolders_pane" float="right">
				<popup position="auto" />
				<states normal="fav.png" dx="1" dy="6">
					<normal border="0" bkclr="#FFFFFF" />
					<hover border="1" dy="5" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>

			<!--复制当前路径按钮-->
			<button position="relative" x="-23" y="2" width="21" height="21" adapt="false" float="right" action="copy_curr_path()">
				<states width="16" height="16">
					<normal icon="icons.copy" border="0" bkclr="#FFFFFF" />
					<hover border="1" ix="1" iy="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>
		</layer>
		
		<!--搜索栏-->
		<layer x="637" y="56" width="240" height="25" bkclr="#ffffff" float="right">
			<border width="1" color="#316AC5" />
			
			<edit id="search" position="relative" x="1" y="1" width="216" height="23" bkclr="#ffffff" hint="搜索" />
			
			<button position="relative" x="-24" y="1" width="23" height="23" adapt="false">
				<states normal="search_icon.png" dx="3" dy="3">
				</states>
			</button>
		</layer>
			
		<!--文件夹树控件-->
		<layer id="treeview" x="3" y="85" width="240" height="500" float="height">
			<border width="1" color="#ACA899" />
			
			<layer id=".tree" x="0" y="0" width="240" height="250" float="height">
				<label text="文件夹" position="relative" x="" y="0" width="240" height="22" bkclr="#E5E5E5" align="vcenter" offset="3">
					<border width="1" color="#ACA899" />
				</label>
				
				<button position="relative" x="-16" y="4" width="14" height="14" adapt="false">
					<states link="states.close" />
				</button>
			
				<button id="sync" position="relative" x="-35" y="2" width="18" height="18" action="sync_treeview()" adapt="false" checkable="true">
					<states width="16" height="16" ix="2" iy="2">
						<normal icon="icons.sync" bkclr="#E5E5E5" />
						<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
						<down border="1" color="#316AC5" bkclr="#C1D2EE" />
					</states>
					<states width="16" height="16" ix="2" iy="2">
						<normal icon="icons.synced" size="16" bkclr="#E5E5E5" />
						<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
						<down border="1" color="#316AC5" bkclr="#C1D2EE" />
					</states>
				</button>
			
				<panel id=".view" position="relative" x="1" y="22" width="238" height="250" bkclr="#ffffff" float="height">
				</panel>
			</layer>
			
			<layer id=".filter" x="0" y="272" width="240" height="228" float="bottom">
				<label text="过滤器" position="relative" x="0" y="0" width="240" height="22" bkclr="#E5E5E5" align="vcenter" offset="3">
					<border width="1" color="#ACA899" />
				</label>
				
				<button position="relative" x="-16" y="4" width="14" height="14" adapt="false">
					<states link="states.close" />
				</button>
				
				<button id="clear" position="relative" x="-35" y="2" width="18" height="18" action="clear_filters()" adapt="false">
					<states width="16" height="16" ix="2" iy="2">
						<normal icon="icons.clear" bkclr="#E5E5E5" />
						<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
						<down border="1" color="#316AC5" bkclr="#C1D2EE" />
					</states>
				</button>
				
				<edit id="fastfilter" position="relative" x="-168" y="3" width="130" height="16" bkclr="#ffffff" hint="quick filter">
					<border width="1" color="#316AC5" />
				</edit>

				<custom id="filefilter" type="tiled" position="relative" x="1" y="22" width="238" height="205" bkclr="#ffffff" col="1" float="">
					<items width="0" height="20">
						<item text="显示文件夹" icon="icons.folder" />
						<item text="显示所有文件" icon="icons.file" />
						<item text="应用程序(*.exe)" icon=".exe" />
						<item text="BMP 文件(*.bmp)" icon=".bmp" />
						<item text="压缩文件(*.rar)" icon=".rar" />
					</items>
					<layer id="item.id" width="238" height="20" text="item.text" ext="item.ext" offset="38" align="vcenter" checkable="true" check="item.check" adapt="false" action="filter_files()">
						<states normal="checkbox.png" ix="19" iy="2" dx="3" dy="3" width="13" height="13">
							<normal icon="item.icon" x="0" bkclr="#ffffff" />
							<hover x="13" />
							<down x="26" />
						</states>
						<states normal="checkbox.png" ix="19" iy="2" dx="3" dy="3" width="13" height="13">
							<normal icon="item.icon" x="39" bkclr="#ffffff" />
							<hover x="52" />
							<down x="65" />
						</states>
						<!--button enable="false" position="relative" x="19" y="2" width="16" height="16">
							<states width="16" height="16">
								<normal icon="item.icon" />
							</states>
						</button-->
					</layer>
				</custom>
			</layer>
		</layer>

		<!--文件视图-->
		<layer id="xplr" x="245" y="85" width="630" height="500" float="width,height">
			<layer id="xplorer" x="0" y="0" width="315" height="500" float="wratio,height">
				<border width="1" color="#ACA899" />
				
				<label position="relative" x="0" y="0" width="315" height="22" bkclr="#E5E5E5" float="width">
					<border width="1" color="#ACA899" />
				</label>
				
				<button position="relative" x="-16" y="4" width="14" height="14" adapt="false" float="right" action="print(tabcls2.rect().json())" >
					<states link="states.close" />
				</button>
				
				<custom id=".tabs" type="tiled" position="relative" x="2" y="2" width="295" height="20" row="1" col="100" bkclr="#E5E5E5" float="width">
					<border width="1" color="#ACA899" bottom="1" />
					<events dbclk="new_tab_view('xplorer')" />
					<items width="adapt" height="20">
						<!--<item id=".tab1" text="" icon="" tab="item.tab" />-->
					</items>
					<button id="item.id" width="adapt,15" height="20" view="item.view" path="vpath" text="item.text" align="center,vcenter" offset="24">
						<tabs tab="item.tab" group="folders" action="click_tab('xplorer', this)" />
						<events dbclk="close_tab(xplorer, this)" rbtn="pop_tab_menu('xplorer', this, 'this')" />
						<states ix="6" iy="2">
							<normal icon="item.icon" link="javascript:tabbtn.id" />
							<hover icon="item.icon" link="javascript:tabbtn_hover.id" />
							<down icon="item.icon" link="javascript:tabbtn_down.id" />
						</states>
						<states ix="6" iy="2">
							<normal icon="item.icon" link="javascript:tabbtn_down.id" />
							<hover link="javascript:tabbtn_down.id" />
							<down link="javascript:tabbtn_down.id" />
						</states>
					</button>
				</custom>

				<custom id=".views" type="tiled" position="relative" x="1" y="22" width="313" height="477" bkclr="#ffffff" col="1" float="width,height">
					<items>
						<!--<item id=".view1" />-->
					</items>
					<panel id="item.id" x="0" y="0" width="width" height="height" bkclr="#ffffff" float="width,height">
					</panel>
				</custom>
			</layer>
			
			<!--文件视图2-->
			<layer id="xplorer2" x="leftof-xplorer,2" y="0" width="315" height="500" float="wratio,height">
				<border width="1" color="#ACA899" />
				
				<label position="relative" x="0" y="0" width="315" height="22" bkclr="#E5E5E5" float="width">
					<border width="1" color="#ACA899" />
				</label>
				
				<button id="tabcls2" position="relative" x="-16" y="4" width="14" height="14" adapt="false" float="right">
					<states link="states.close" />
				</button>
				
				<custom id=".tabs" type="tiled" position="relative" x="2" y="2" width="295" height="20" row="1" col="100" bkclr="#E5E5E5" float="width">
					<border width="1" color="#ACA899" bottom="1" />
					<events dbclk="new_tab_view('xplorer2')" />
					<items width="adapt" height="20">
						<!--<item id=".tab1" text="" icon="" tab="item.tab" />-->
					</items>
					<button id="item.id" width="adapt,15" height="20" view="item.view" path="vpath" text="item.text" align="center,vcenter" offset="24">
						<tabs tab="item.tab" group="folders" action="click_tab('xplorer2', this)" />
						<events dbclk="close_tab(xplorer2, this)" rbtn="pop_tab_menu('xplorer2', this, 'this')" />
						<states ix="6" iy="2">
							<normal icon="item.icon" link="javascript:tabbtn.id" />
							<hover icon="item.icon" link="javascript:tabbtn_hover.id" />
							<down icon="item.icon" link="javascript:tabbtn_down.id" />
						</states>
						<states ix="6" iy="2">
							<normal icon="item.icon" link="javascript:tabbtn_down.id" />
							<hover link="javascript:tabbtn_down.id" />
							<down link="javascript:tabbtn_down.id" />
						</states>
					</button>
				</custom>

				<custom id=".views" type="tiled" position="relative" x="1" y="22" width="313" height="477" bkclr="#ffffff" col="1" float="width,height">
					<items>
						<!--<item id=".view1" />-->
					</items>
					<panel id="item.id" x="0" y="0" width="width" height="height" bkclr="#ffffff" float="width,height">
					</panel>
				</custom>
			</layer>
		</layer>
		
		<!--状态栏-->
		<layer id="detailbar" x="3" y="587" width="874" height="70" float="width,bottom" bkclr="#E5E5E5">
			<border width="1" color="#ACA899" />
			
			<!--img src="statusbar.png" position="relative" x="0" y="0" width="878" height="70" float="width">
				<bkimg x="0" y="0" width="20" height="70">
					<x x="7" y="0" width="5" height="70" />
				</bkimg>
			</img-->
			
			<img position="relative" x="13" y="3" width="64" height="64" adapt="half">
				<bkimg src="Explorer.png" dx="center" dy="center" />
			</img>
			
			<label id=".filename" position="relative" adapt="true" text="给我一个温暖空间.avi" bkclr="#E5E5E5" align="vcenter">
				<pos x="90" y="5" width="150" height="18" />
				<!--bkimg src="statusbar.png" x="7" y="5" width="10" height="height" /-->
			</label>
			
			<label id=".filetype" text="配置设置" position="relative" x="92" y="23" width="100" height="18" color="#5A6779" align="vcenter" />

			<custom id=".info" type="tiled" position="relative" x="240" y="5" width="500" height="60" margin="2,15" col="2" float="width">
				<items width="155" height="18">
					<!--<item text="" />-->
					<item text="修改日期: 2011-06-01 13:47" />
					<item text="长度: 00:05:38" />
					<item text="        大小: 50.7M" />
					<item text="" />
					<item text="创建日期: 2011-06-01 13:47" />
				</items>
				<label text="item.text" width="155" height="18" color="#5A6779" align="vcenter" />
			</custom>
			
			<button text="↓" position="relative" x="-12" y="-18" width="10" height="16" float="right" action="show_statusbar(true)">
				<states width="16" height="16" ix="2" iy="2">
					<normal bkclr="#E5E5E5" />
					<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>
			
			<include>footertip.xml</include>
		</layer>

		<layer id="statusbar" x="3" y="637" width="874" height="20" float="width,bottom" bkclr="#E5E5E5" visible="false">
			<border width="1" color="#ACA899" />
			
			<label id=".filename" position="relative" adapt="true" text="给我一个温暖空间.avi" bkclr="#E5E5E5" align="vcenter">
				<pos x="2" y="1" width="150" height="18" />
			</label>

			<button text="↑" position="relative" x="-12" y="-18" width="10" height="16" float="right" action="show_statusbar(false)">
				<states width="16" height="16" ix="2" iy="2">
					<normal bkclr="#E5E5E5" />
					<hover ix="1" iy="1" border="1" color="#316AC5" bkclr="#C1D2EE" />
					<down border="1" color="#316AC5" bkclr="#C1D2EE" />
				</states>
			</button>
			
			<include>footertip.xml</include>
		</layer>
	</panel> <!-- end explorer -->
	
	<include>menu.xml</include>
	
	<include>favmenu.xml</include>
	
	<include>tabmenu.xml</include>
	
	<include>toolmenu.xml</include>
	
	<include>recentmenu.xml</include>
	
	<include>common_folders.xml</include>
	
	<include>about.xml</include>
</directui>